<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>邮箱管理</title>
</head>
<link rel="stylesheet" href="/simpleBook/js/layui/css/layui.css" media="all">
<script src="/simpleBook/js/laydate/laydate.js" type="application/javascript"></script>
<script src="/simpleBook/js/layui/layui.js" charset="utf-8"></script>
<script src="/simpleBook/js/jquery-1.12.4.min.js"></script>
<body class="layui-bg-gray">
    <fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
        <legend>修改邮箱</legend>
    </fieldset>
    <div style="width: 97% ;height: 50%; margin: 0 auto; margin-top: 1% ; border: 1px solid #ccc; background-color: white">
        <form class="layui-form" style="margin-top: 10px">
            <div class="layui-form-item">
                <label class="layui-form-label" style="width: 7%;font-size: 16px">STMP服务器</label>
                <div class="layui-input-inline">
                    <input type="text" name="emailServer" lay-verify="emailServer" placeholder="请输入邮箱服务器" autocomplete="off" class="layui-input">
                </div>
                <div class="layui-form-mid layui-word-aux">例如：stmp.163.com</div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label" style="font-size: 16px;width: 7%">STMP端口号</label>
                <div class="layui-input-inline">
                    <input class="layui-input" type="text"  name="emailPort"  lay-verify="emailPort" placeholder="请输入STMP端口号" autocomplete="off">
                </div>
                <div class="layui-form-mid layui-word-aux">例如：25</div>
            </div>

            <div class="layui-form-item">
                <label class="layui-form-label" style="font-size: 16px;width: 7%">发件人名称</label>
                <div class="layui-input-inline">
                    <input type="text" name="emailName" required lay-verify="required" lay-reqtext="请输入发件人名称！"  class="layui-input" placeholder="发件人名称">
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label" style="font-size: 16px;width: 7%">发件人邮箱</label>
                <div class="layui-input-inline">
                    <input class="layui-input" type="email'" lay-verify="email" lay-reqtext="请输入发件人邮箱" name="email" placeholder="发件人邮箱"/>
                </div>
                <div class="layui-form-mid layui-word-aux">例如：jianjianshu@163.com</div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label" style="font-size: 16px;width: 7%">邮箱密码</label>
                <div class="layui-input-inline">
                    <input  type="password" class="layui-input" required lay-verify="required" name="emailPassword" autocomplete="off" lay-reqtext="请输入邮箱密码" placeholder="邮箱密码"/>
                </div>
            </div>
            <div class="layui-form-item" style="margin-left: 8%">
                <input type="submit" lay-filter="update" lay-submit value="确定" class="layui-btn">
                <input type="reset" lay-filter="reset" value="重置" class="layui-btn">
            </div>
        </form>
    </div>
<script type="application/javascript">
        layui.use("form",function (data) {
            var form=layui.form;
            
            // 监听提交时间
            form.on("submit(update)",function (data) {
                layer.open({
                    tile:"邮箱信息",
                    content:JSON.stringify(data.field)
                });
                return false;
            });
            // 验证数据格式
            form.verify({
                emailServer:function (value,item) {
                    if (value==="" || value===null ){
                        return "邮箱服务器不能为空"
                    }
                    if (value.indexOf(".")===value.lastIndexOf(".")){
                        return "邮箱服务器格式不正确";
                    }
                },
                emailPort:function (value,item) {
                    if(value==='' || value===null){
                        return "邮箱端口号不能为空";
                    }
                    if (isNaN(value)) {
                        return "邮箱端口号不正确";
                    }
                }
            });
        });
        $.post({
            url:"/simpleBook/json/package.json",
            success:function (data) {
                $("input[name=emailServer]").val(data.emailServer);
                $("input[name=email]").val(data.email);
                $("input[name=emailPort]").val(data.emailPort);
                $("input[name=emailName]").val(data.emailName)
                $("input[name=emailPassword]").val(data.emailPassword);
            }
        })
</script>
</body>
</html>